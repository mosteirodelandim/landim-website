{"version":3,"sources":["webpack:///./src/pages/photo_gallery.js"],"names":["ImageGallery","images","onImageClick","map","img","key","src","className","onClick","fluid","node","childImageSharp","thumb","PhotoGalleryPage","data","t","useTranslation","useState","lightboxIsOpen","setToggleLightbox","photoIndex","setPhotoIndex","banner","garden","edges","cloister","rooms","church","concat","image","indexOf","fullMenu","id","Tag","style","textAlign","opacity","align","mainSrc","full","srcWebp","nextSrc","length","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest"],"mappings":"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","file":"component---src-pages-photo-gallery-js-1399dd3864ae1580f9b0.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { graphql } from 'gatsby';\r\nimport Img from 'gatsby-image'\r\n\r\nimport LandingLayout from '../components/LandingLayout';\r\n\r\nimport 'react-image-lightbox/style.css';\r\nimport Lightbox from 'react-image-lightbox';\r\nimport BackgroundImage from 'gatsby-background-image';\r\n\r\nfunction ImageGallery({images, onImageClick}) {\r\n  return images.map(img => (\r\n    <div key={img.src} className=\"gallery-item\" onClick={() => onImageClick(img)}>\r\n      <Img className=\"gallery-image\"\r\n           fluid={img.node.childImageSharp.thumb}/>\r\n    </div>\r\n  ))\r\n};\r\n\r\nfunction PhotoGalleryPage({ data }) {\r\n  const { t } = useTranslation();\r\n\r\n  const [lightboxIsOpen, setToggleLightbox] = useState(false);\r\n  const [photoIndex, setPhotoIndex] = useState(0);\r\n\r\n  const banner = data.banner.childImageSharp.fluid;\r\n  const garden = data.garden.edges;\r\n  const cloister = data.cloister.edges;\r\n  const rooms = data.rooms.edges;\r\n  const church = data.church.edges;\r\n\r\n  // Must be in the same order as the sections\r\n  const images = garden.concat(cloister).concat(rooms).concat(church);\r\n\r\n  const onImageClick = (image) => {\r\n    setPhotoIndex(images.indexOf(image));\r\n    setToggleLightbox(true);\r\n  };\r\n\r\n  return (\r\n    <LandingLayout fullMenu>\r\n      <article id=\"pageMain\">\r\n        <BackgroundImage\r\n          Tag=\"header\"\r\n          fluid={banner}\r\n        >\r\n          <h2>{t('photo_gallery:title')}</h2>\r\n          <p>{t('photo_gallery:subHeading')}</p>\r\n        </BackgroundImage>\r\n\r\n\r\n        <section className=\"wrapper style5\">\r\n          <div className=\"inner\">\r\n            <blockquote>{t('photo_gallery:quote')}</blockquote>\r\n            <p style={{textAlign: 'right', opacity: .5 }}>{t('photo_gallery:quoteAuthor')}</p>\r\n\r\n            <p>{t('photo_gallery:paragraph:description1')}</p>\r\n            <p>{t('photo_gallery:paragraph:description2')}</p>\r\n            <p>{t('photo_gallery:paragraph:description3')}</p>\r\n\r\n          </div>\r\n        </section>\r\n\r\n        <section className=\"wrapper style5 no-top\">\r\n          <div className=\"inner\">\r\n            <h2 align=\"center\">{t('photo_gallery:gardenTitle')}</h2>\r\n          </div>\r\n        </section>\r\n\r\n        <section id=\"photogallery\" className=\"wrapper style3 special no-top\">\r\n          <div className=\"inner-gallery\">\r\n            <ul className=\"features\">\r\n              <div id=\"photo-gallery\" className=\"container\">\r\n                <div className=\"gallery\">\r\n                  <ImageGallery images={garden} onImageClick={onImageClick}/>\r\n                </div>\r\n              </div>\r\n            </ul>\r\n          </div>\r\n        </section>\r\n\r\n\r\n        <section className=\"wrapper style5\">\r\n          <div className=\"inner\">\r\n            <h2 align=\"center\">{t('photo_gallery:cloisterTitle')}</h2>\r\n          </div>\r\n        </section>\r\n\r\n        <section id=\"photogallery\" className=\"wrapper style3 special no-top\">\r\n          <div className=\"inner-gallery\">\r\n            <ul className=\"features\">\r\n              <div id=\"photo-gallery\" className=\"container\">\r\n                <div className=\"gallery\">\r\n                  <ImageGallery images={cloister} onImageClick={onImageClick}/>\r\n                </div>\r\n              </div>\r\n            </ul>\r\n          </div>\r\n        </section>\r\n\r\n\r\n\r\n        <section className=\"wrapper style5\">\r\n          <div className=\"inner\">\r\n            <h2 align=\"center\">{t('photo_gallery:roomsTitle')}</h2>\r\n          </div>\r\n        </section>\r\n\r\n        <section id=\"photogallery\" className=\"wrapper style3 special no-top\">\r\n          <div className=\"inner-gallery\">\r\n            <ul className=\"features\">\r\n              <div id=\"photo-gallery\" className=\"container\">\r\n                <div className=\"gallery\">\r\n                  <ImageGallery images={rooms} onImageClick={onImageClick}/>\r\n                </div>\r\n              </div>\r\n            </ul>\r\n          </div>\r\n        </section>\r\n\r\n\r\n\r\n        <section className=\"wrapper style5\">\r\n          <div className=\"inner\">\r\n            <h2 align=\"center\">{t('photo_gallery:churchTitle')}</h2>\r\n          </div>\r\n        </section>\r\n\r\n        <section id=\"photogallery\" className=\"wrapper style3 special no-top\">\r\n          <div className=\"inner-gallery\">\r\n            <ul className=\"features\">\r\n              <div id=\"photo-gallery\" className=\"container\">\r\n                <div className=\"gallery\">\r\n                  <ImageGallery images={church} onImageClick={onImageClick}/>\r\n                </div>\r\n              </div>\r\n            </ul>\r\n          </div>\r\n        </section>\r\n\r\n      </article>\r\n\r\n      {lightboxIsOpen && (\r\n        <Lightbox\r\n          mainSrc={images[photoIndex].node.childImageSharp.full.srcWebp}\r\n          nextSrc={images[(photoIndex + 1) % images.length].node.childImageSharp.full.srcWebp}\r\n          prevSrc={images[(photoIndex + images.length - 1) % images.length].node.childImageSharp.full.srcWebp}\r\n          onCloseRequest={() => setToggleLightbox(false)}\r\n          onMovePrevRequest={() => setPhotoIndex((photoIndex + images.length - 1) % images.length)}\r\n          onMoveNextRequest={() => setPhotoIndex((photoIndex + 1) % images.length)}\r\n        />\r\n      )}\r\n    </LandingLayout>\r\n  );\r\n}\r\n\r\nexport const query = graphql`\r\nquery ImagesForGallery {\r\n  church: allFile(filter: {relativeDirectory: {eq: \"photo-gallery/church\"}}) { edges { node { childImageSharp {\r\n            thumb: fluid(maxWidth: 270, maxHeight: 270, cropFocus: CENTER, fit: COVER, quality: 40) {\r\n              ...GatsbyImageSharpFluid_withWebp_tracedSVG\r\n            }\r\n            full: fluid(maxWidth: 3000, quality: 100) {\r\n              ...GatsbyImageSharpFluid_withWebp_tracedSVG\r\n   } } } }\r\n  },\r\n  cloister: allFile(filter: {relativeDirectory: {eq: \"photo-gallery/cloister\"}}) { edges { node { childImageSharp {\r\n            thumb: fluid(maxWidth: 270, maxHeight: 270, cropFocus: CENTER, fit: COVER, quality: 40) {\r\n              ...GatsbyImageSharpFluid_withWebp_tracedSVG\r\n            }\r\n            full: fluid(maxWidth: 3000, quality: 100) {\r\n              ...GatsbyImageSharpFluid_withWebp_tracedSVG\r\n   } } } }\r\n  },\r\n  garden: allFile(filter: {relativeDirectory: {eq: \"photo-gallery/garden\"}}) { edges { node { childImageSharp {\r\n            thumb: fluid(maxWidth: 270, maxHeight: 270, cropFocus: CENTER, fit: COVER, quality: 40) {\r\n              ...GatsbyImageSharpFluid_withWebp_tracedSVG\r\n            }\r\n            full: fluid(maxWidth: 3000, quality: 100) {\r\n              ...GatsbyImageSharpFluid_withWebp_tracedSVG\r\n   } } } }\r\n  },\r\n  rooms: allFile(filter: {relativeDirectory: {eq: \"photo-gallery/rooms\"}}) { edges { node { childImageSharp {\r\n            thumb: fluid(maxWidth: 270, maxHeight: 270, cropFocus: CENTER, fit: COVER, quality: 40) {\r\n              ...GatsbyImageSharpFluid_withWebp_tracedSVG\r\n            }\r\n            full: fluid(maxWidth: 3000, quality: 100) {\r\n              ...GatsbyImageSharpFluid_withWebp_tracedSVG\r\n   } } } }\r\n  },\r\n  banner: file(relativePath: {eq: \"photo-gallery/banner.png\"}) { childImageSharp { fluid(maxWidth: 3000, quality: 100) { ...GatsbyImageSharpFluid_withWebp }}},\r\n}\r\n`;\r\n\r\nexport default PhotoGalleryPage;\r\n"],"sourceRoot":""}